!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):window.jQuery)}(function(b){var a=0;b.ajaxTransport("iframe",function(e){if(e.async){var g,c,f,d=e.initialIframeSrc||"javascript:false;";return{send:function(i,h){g=b('<form style="display:none;"></form>'),g.attr("accept-charset",e.formAcceptCharset),f=/\?/.test(e.url)?"&":"?","DELETE"===e.type?(e.url=e.url+f+"_method=DELETE",e.type="POST"):"PUT"===e.type?(e.url=e.url+f+"_method=PUT",e.type="POST"):"PATCH"===e.type&&(e.url=e.url+f+"_method=PATCH",e.type="POST"),a+=1,c=b('<iframe src="'+d+'" name="iframe-transport-'+a+'"></iframe>').bind("load",function(){var j,k=b.isArray(e.paramName)?e.paramName:[e.paramName];c.unbind("load").bind("load",function(){var l;try{if(l=c.contents(),!l.length||!l[0].firstChild){throw new Error}}catch(m){l=void 0}h(200,"success",{iframe:l}),b('<iframe src="'+d+'"></iframe>').appendTo(g),window.setTimeout(function(){g.remove()},0)}),g.prop("target",c.prop("name")).prop("action",e.url).prop("method",e.type),e.formData&&b.each(e.formData,function(l,m){b('<input type="hidden"/>').prop("name",m.name).val(m.value).appendTo(g)}),e.fileInput&&e.fileInput.length&&"POST"===e.type&&(j=e.fileInput.clone(),e.fileInput.after(function(l){return j[l]}),e.paramName&&e.fileInput.each(function(l){b(this).prop("name",k[l]||e.paramName)}),g.append(e.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),e.fileInput.removeAttr("form")),g.submit(),j&&j.length&&e.fileInput.each(function(m,o){var l=b(j[m]);b(o).prop("name",l.prop("name")).attr("form",l.attr("form")),l.replaceWith(o)})}),g.append(c).appendTo(document.body)},abort:function(){c&&c.unbind("load").prop("src",d),g&&g.remove()}}}}),b.ajaxSetup({converters:{"iframe text":function(c){return c&&b(c[0].body).text()},"iframe json":function(c){return c&&b.parseJSON(b(c[0].body).text())},"iframe html":function(c){return c&&b(c[0].body).html()},"iframe xml":function(c){var d=c&&c[0];return d&&b.isXMLDoc(d)?d:b.parseXML(d.XMLDocument&&d.XMLDocument.xml||b(d.body).html())},"iframe script":function(c){return c&&b.globalEval(b(c[0].body).text())}}})});